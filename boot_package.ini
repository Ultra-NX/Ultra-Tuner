[boot]

del '/switch/.packages/Ultra Tuner/README.md'
del '/switch/.packages/Ultra Tuner/README_ENG.md'
del '/switch/.packages/Ultra Tuner/README_RU.md'

mv /config/UltraCam.ini /config/UltraNX/UltraCam/TotK.ini
mv /config/TotK.ini /config/UltraNX/UltraCam/TotK.ini
mv /config/EoW.ini /config/UltraNX/UltraCam/EoW.ini
mv /config/BotW.ini /config/UltraNX/UltraCam/BotW.ini
mv /config/curves.ini /config/UltraNX/curves.ini
mv /config/preset.ini /config/UltraNX/preset.ini

mv /config/Ultra/ /config/UltraNX/




ini_file '/config/UltraNX/Tuner.ini'

json '[{"null":"autoram", "fixram":"fixram"}]'
exec {json(0,{ini_file(RAM,mode)})}

json '[{"null":"Stock [1/3]", "Stock [1/3]":"Stock [1/3]", "+1.85MB [2/3]":"+1.85MB [2/3]", "+40MB [3/3]":"+40MB [3/3]"}]'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' 'Memory Patch' footer {json(0,{ini_file(Autobackup,value)})}
json '[{"null":"Off", "Off":"Off", "On":"On"}]'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' '8GB RAM Patch' footer {json(0,{ini_file(8GB,patch)})}
json '[{"null":"On", "Autobackup":"On", "Nobackup":"Off"}]'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' 'OC Autobackup' footer '{json(0,{ini_file(Autobackup,value)})}'
json '[{"null":"Autobackup", "Autobackup":"Autobackup", "Nobackup":"Nobackup"}]'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' 'OC Autobackup' value '{json(0,{ini_file(Autobackup,value)})}'




ini_file '/switch/.packages/Ultra Tuner/package.ini'

json '[{"null":"Off", "main":"Off", "test":"On"}]'
set-ini-val '/switch/.packages/Ultra Tuner/Data/Updater/config.ini' 'Test Tuner' footer '{json(0,{ini_file(Header,;tuner)})}'




ini_file '/atmosphere/config/system_settings.ini'

json '[{"null":"Off", "u64!0x0":"Off", "u64!0x3000":"On"}]'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' 'Crash Autoreboot' footer {json(0,{ini_file(atmosphere,fatal_auto_reboot_interval)})}

json '[{"null":"On", "u8!0x1":"On", "u8!0x0":"Off"}]'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' 'GPU Scheduling' footer {json(0,{ini_file(am.gpu,gpu_scheduling_enabled)})}
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' 'USB 3.0 Support' footer {json(0,{ini_file(usb,usb30_force_enabled)})}

json '[{"null":"0", "u32!30":"0", "u32!60":"1"}]'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' 'Framerate' index {json(0,{ini_file(am.debug,continuous_recording_fps)})}
json '[{"null":"0", "u32!0x5A06E0":"0", "u32!0x8C6180":"1", "u32!0xC65D40":"2", "u32!0x1312D00":"3", "u32!0x10B0760":"3", "u32!0xE4E1C0":"2", "u32!0xB71B00":"2", "u32!0xA00000":"1", "u32!0x780000":"1", "u32!0x42D560":"0"}]'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' 'Bitrate' index {json(0,{ini_file(am.debug,continuous_recording_video_bit_rate)})}

json '[{"null":"1", "u32!0x400":"0", "u32!0x500":"0", "u32!0x600":"0", "u32!0x67C":"0", "u32!0x700":"1", "u32!0x800":"1", "u32!0x860":"2", "u32!0x900":"2", "u32!0xA00":"3", "u32!0xB00":"4", "u32!0xC00":"4"}]'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' 'Charge Speed' index {json(0,{ini_file(psm,charge_current_limit_milli_ampere)})}




ini_file '/config/status-monitor/config.ini'

set-ini-val '/switch/.packages/Ultra Tuner/config.ini' '*Preset Micro' footer {ini_file(status-monitor,preset)}




[update]
ini_file '/switch/.packages/Ultra Tuner/package.ini'

set-ini-val '/switch/.packages/Ultra Tuner/config.ini' Updater current '{ini_file(Header,;version)}'
json '[{"null":"main", "main":"main", "test":"test"}]'
download 'https://raw.githubusercontent.com/Ultra-NX/Ultra-Tuner/{json(0,{ini_file(Header,;tuner)})}/package.ini' '/switch/.packages/Ultra Tuner/update.ini'
ini_file '/switch/.packages/Ultra Tuner/update.ini'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' Updater latest '{ini_file(Header,;version)}'
del '/switch/.packages/Ultra Tuner/update.ini'




[autoram]
ini_file '/switch/.packages/Ultra Tuner/config.ini'

set-ini-val '/switch/.packages/Ultra Tuner/config.ini' '*Select RAM' vendor {ram_vendor}
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' '*Select RAM' model {ram_model}
json_file '/switch/.packages/Ultra Tuner/Data/Presets/Boot Jsons/RAM Model.json'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' '*Select RAM' model '{json_file(0,{ini_file(*Select RAM,model)})}'
set-ini-val '/switch/.packages/Ultra Tuner/config.ini' '*Select RAM' footer Auto

[fixram]
ini_file /config/UltraNX/Tuner.ini

set-ini-val '/switch/.packages/Ultra Tuner/config.ini' '*Select RAM' footer {ini_file(RAM,model)}
